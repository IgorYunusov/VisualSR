<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:VisualSR.Controls">

    <LinearGradientBrush x:Key="GlobalBackground" StartPoint="1,5.0" EndPoint="0,3.1">
        <GradientStop Color="#424242" Offset="0.5" />
        <GradientStop Color="#FF1F1F1F" Offset="1" />
    </LinearGradientBrush>
    <Style TargetType="{x:Type TabItem}">
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="Width" Value="Auto" />
        <Setter Property="Height" Value="25" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TabItem}">
                    <Grid Margin="0,0,-20,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="5" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="5" />
                        </Grid.ColumnDefinitions>
                        <Path Name="TabFill" Margin="0 0 0 1" Width="200" Grid.ColumnSpan="4" VerticalAlignment="Top"
                              Stretch="Fill"
                              Data="M39,96 C48.75,96 59.25,0 76,0 92.75,0 247,0 258,0 269,0 285.5,95.75 295,96">
                            <Path.Fill>
                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                    <GradientStop Color="#FF353535" Offset="1" />
                                    <GradientStop Color="#FF5B5B5B" />
                                </LinearGradientBrush>
                            </Path.Fill>
                        </Path>
                        <Path Name="TabHighlight" Margin="0 0 0 1" Width="200" Grid.ColumnSpan="4"
                              VerticalAlignment="Top" Stretch="Fill" Stroke="#FF3C3C3C"
                              Data="M39,96 C48.75,96 59.25,0 76,0 92.75,0 247,0 258,0 269,0 285.5,95.75 295,96">
                            <Path.RenderTransformOrigin>
                                <Point X=".5" Y=".5" />
                            </Path.RenderTransformOrigin>
                            <Path.RenderTransform>
                                <TransformGroup>
                                    <TranslateTransform Y=".5" />
                                    <ScaleTransform ScaleX=".96" ScaleY=".94" />
                                </TransformGroup>
                            </Path.RenderTransform>
                        </Path>
                        <Label Foreground="WhiteSmoke" VerticalAlignment="Center" Content="{TemplateBinding Header}"
                               Grid.Column="1" ClipToBounds="True" />
                        <TextBlock Text="x" Foreground="Gray" VerticalAlignment="Center" HorizontalAlignment="Right"
                                   Grid.Column="1" />

                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Panel.ZIndex" Value="1" />

                            <Setter Property="Fill" TargetName="TabFill" Value="#323232" />
                            <Setter Property="Margin" TargetName="TabFill" Value="0 0 0 -1" />
                            <Setter Property="Stroke" TargetName="TabHighlight" Value="DarkGray" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="Notification" TargetType="controls:Notification">
        <Setter Property="BorderBrush" Value="Green" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="b" BorderThickness="20,3,3,3"
                            Height="43" VerticalAlignment="Bottom"
                            Background="#353535"
                            HorizontalAlignment="Left" RenderTransformOrigin="1,0"
                            BorderBrush="{Binding RelativeSource={RelativeSource TemplatedParent},Path=BorderBrush}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="10*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock x:Name="Message" Grid.Column="0" VerticalAlignment="Center"
                                       HorizontalAlignment="Left" Margin="5,0,5,0"
                                       Foreground="White" FontSize="14"
                                       FontFamily="Segoe WP Semibold" />


                        </Grid>
                        <Border.Triggers>
                            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames
                                            Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)">
                                            <SplineDoubleKeyFrame KeyTime="0:0:0" Value="0" />
                                            <SplineDoubleKeyFrame KeyTime="0:0:0.5" Value="1" />
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <SplineDoubleKeyFrame KeyTime="0:0:2" Value="1" />
                                            <SplineDoubleKeyFrame KeyTime="0:0:4" Value="0" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Border.Triggers>

                        <Border.RenderTransform>
                            <ScaleTransform ScaleY="1" />
                        </Border.RenderTransform>
                    </Border>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="Gauge" TargetType="controls:PerformanceGauge">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Grid Width="270" Height="30">
                        <Path Style="{DynamicResource ToolTipHint}" HorizontalAlignment="Left" Name="Spy"
                              Stretch="Uniform" StrokeThickness="1.33333325">
                            <Path.ToolTip>
                                <Border Background="#424242" BorderBrush="Gray" CornerRadius="3,3,3,3"
                                        BorderThickness="2">
                                    <StackPanel MaxWidth="300" Margin="3">
                                        <TextBlock Foreground="Gold" FontSize="14" Text="Performance gauge"
                                                   FontFamily="Segoe UI Semibold" />
                                        <TextBlock Foreground="AliceBlue"
                                                   Text="This gauge will help you mantain the performaance of your running project."
                                                   TextWrapping="Wrap" />
                                    </StackPanel>
                                </Border>
                            </Path.ToolTip>
                        </Path>
                        <Grid Height="30" Width="180">
                            <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Name="Gauge"
                                  StrokeThickness="3" StrokeLineJoin="Miter" StrokeStartLineCap="Flat"
                                  StrokeEndLineCap="Flat" Stretch="Fill" Fill="#FF353535">
                                <Path.Stroke>
                                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                        <GradientStop Color="#FF202934" Offset="0.623" />
                                        <GradientStop
                                            Color="{Binding RelativeSource={RelativeSource TemplatedParent},Path=CoreColor}" />
                                    </LinearGradientBrush>
                                </Path.Stroke>
                                <Path.Data>
                                    <PathGeometry
                                        Figures="m 10 2.519685 h 240 v 30 h 40 v -30 H 790 L 660 152.51969 H 290 v -30 h -40 v 30 H 10 Z"
                                        FillRule="NonZero" />
                                </Path.Data>
                            </Path>
                            <TextBlock Text="{Binding RelativeSource={RelativeSource TemplatedParent},Path=Ram}"
                                       Foreground="WhiteSmoke" Margin="8" FontFamily="Segoe WP Semibold" />
                            <StackPanel Orientation="Horizontal" RenderTransformOrigin="0.444,0.5" Height="30"
                                        VerticalAlignment="Top" HorizontalAlignment="Left"
                                        Width="180" Margin="70,1,0,0">
                                <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" x:Name="Cold" Fill="Black"
                                      Height="15" Stretch="Fill" Width="15" HorizontalAlignment="Left"
                                      Stroke="#FFBFBFBF">
                                    <Path.Data>
                                        <PathGeometry
                                            Figures="M 64.00 416.00l 96.00 96.00l 256.00-256.00L 160.00 0.00L 64.00 96.00l 160.00 160.00L 64.00 416.00z"
                                            FillRule="NonZero" />
                                    </Path.Data>
                                    <Path.ToolTip>
                                        <Border Background="#424242" BorderBrush="Gray" CornerRadius="3,3,3,3"
                                                BorderThickness="2">
                                            <StackPanel MaxWidth="300" Margin="3">
                                                <TextBlock Foreground="#FF00A2FF" FontSize="14" Text="Cold state"
                                                           FontFamily="Segoe UI Semibold" />
                                                <TextBlock Foreground="AliceBlue"
                                                           Text="This level of performance indicates that your project is running in the best possible state."
                                                           TextWrapping="Wrap" />
                                                <TextBlock Foreground="Green"
                                                           Text="You don't need to take any actions." />

                                            </StackPanel>
                                        </Border>
                                    </Path.ToolTip>
                                </Path>
                                <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" x:Name="Cool"
                                      Fill="#FF000000" Height="15" Stretch="Fill" Width="15" Margin="-4,0,0,0"
                                      HorizontalAlignment="Left" Stroke="#FFBFBFBF">
                                    <Path.Data>
                                        <PathGeometry
                                            Figures="M 64.00 416.00l 96.00 96.00l 256.00-256.00L 160.00 0.00L 64.00 96.00l 160.00 160.00L 64.00 416.00z"
                                            FillRule="NonZero" />
                                    </Path.Data>
                                    <Path.ToolTip>
                                        <Border Background="#424242" BorderBrush="Gray" CornerRadius="3,3,3,3"
                                                BorderThickness="2">
                                            <StackPanel MaxWidth="300" Margin="3">
                                                <TextBlock Foreground="#FF0074FF" FontSize="14" Text="Cool state"
                                                           FontFamily="Segoe UI Semibold" />
                                                <TextBlock Foreground="AliceBlue"
                                                           Text="This level of performance indicates that your project is running in the near-best possible state."
                                                           TextWrapping="Wrap" />
                                                <TextBlock Foreground="Green"
                                                           Text="You don't need to take any actions." />

                                            </StackPanel>
                                        </Border>
                                    </Path.ToolTip>
                                </Path>
                                <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" x:Name="Good"
                                      Fill="#FF000000" Height="15" Stretch="Fill" Width="15" Margin="-4,0,0,0"
                                      HorizontalAlignment="Left" Stroke="#FFBFBFBF">
                                    <Path.Data>
                                        <PathGeometry
                                            Figures="M 64.00 416.00l 96.00 96.00l 256.00-256.00L 160.00 0.00L 64.00 96.00l 160.00 160.00L 64.00 416.00z"
                                            FillRule="NonZero" />
                                    </Path.Data>
                                    <Path.ToolTip>
                                        <Border Background="#424242" BorderBrush="Gray" CornerRadius="3,3,3,3"
                                                BorderThickness="2">
                                            <StackPanel MaxWidth="300" Margin="3">
                                                <TextBlock Foreground="#FF0074FF" FontSize="14" Text="Good state"
                                                           FontFamily="Segoe UI Semibold" />
                                                <TextBlock Foreground="AliceBlue"
                                                           Text="This level of performance indicates that your project is running in the near-best possible state."
                                                           TextWrapping="Wrap" />
                                                <TextBlock Foreground="Green"
                                                           Text="You don't need to take any actions." />

                                            </StackPanel>
                                        </Border>
                                    </Path.ToolTip>
                                </Path>
                                <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" x:Name="Normal"
                                      Fill="#FF000000" Height="15" Stretch="Fill" Width="15" Margin="-4,0,0,0"
                                      HorizontalAlignment="Left" Stroke="#FFBFBFBF">
                                    <Path.Data>
                                        <PathGeometry
                                            Figures="M 64.00 416.00l 96.00 96.00l 256.00-256.00L 160.00 0.00L 64.00 96.00l 160.00 160.00L 64.00 416.00z"
                                            FillRule="NonZero" />
                                    </Path.Data>
                                    <Path.ToolTip>
                                        <Border Background="#424242" BorderBrush="Gray" CornerRadius="3,3,3,3"
                                                BorderThickness="2">
                                            <StackPanel MaxWidth="300" Margin="3">
                                                <TextBlock Foreground="WhiteSmoke" FontSize="14" Text="Normal state"
                                                           FontFamily="Segoe UI Semibold" />
                                                <TextBlock Foreground="AliceBlue"
                                                           Text="This level of performance indicates that your project is running in the normal state."
                                                           TextWrapping="Wrap" />
                                                <TextBlock Foreground="Green"
                                                           Text="You don't need to take any actions." />

                                            </StackPanel>
                                        </Border>
                                    </Path.ToolTip>
                                </Path>
                                <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" x:Name="Heating"
                                      Fill="#FF000000" Height="15" Stretch="Fill" Width="15" Margin="-4,0,0,0"
                                      HorizontalAlignment="Left" Stroke="#FFBFBFBF">
                                    <Path.Data>
                                        <PathGeometry
                                            Figures="M 64.00 416.00l 96.00 96.00l 256.00-256.00L 160.00 0.00L 64.00 96.00l 160.00 160.00L 64.00 416.00z"
                                            FillRule="NonZero" />
                                    </Path.Data>
                                    <Path.ToolTip>
                                        <Border Background="#424242" BorderBrush="Gray" CornerRadius="3,3,3,3"
                                                BorderThickness="2">
                                            <StackPanel MaxWidth="300" Margin="3">
                                                <TextBlock Foreground="#FFDC3E36" FontSize="14" Text="Heating state"
                                                           FontFamily="Segoe UI Semibold" />
                                                <TextBlock Foreground="AliceBlue"
                                                           Text="This level of performance indicates that your project is consuming too much RAM. You can take some actions
                                                           to reduce the amount of memory your project is using."
                                                           TextWrapping="Wrap" />
                                                <TextBlock Foreground="Gray"
                                                           Text="Reduce the number of nodes you are using." />
                                                <TextBlock Foreground="Gray"
                                                           Text="Divide your set of nodes into multiple functions." />
                                                <TextBlock Foreground="Gray"
                                                           Text="Load instructions via the 'Load' node." />
                                                <TextBlock Foreground="Gray"
                                                           Text="Write native code instead on using nodes." />

                                            </StackPanel>
                                        </Border>
                                    </Path.ToolTip>
                                </Path>
                                <Path x:Name="Hot"
                                      Fill="#FF000000" Height="15" Stretch="Fill" Width="15" Margin="-4,0,0,0"
                                      HorizontalAlignment="Left" Stroke="#FFBFBFBF">
                                    <Path.Data>
                                        <PathGeometry
                                            Figures="M 64.00 416.00l 96.00 96.00l 256.00-256.00L 160.00 0.00L 64.00 96.00l 160.00 160.00L 64.00 416.00z"
                                            FillRule="NonZero" />
                                    </Path.Data>
                                    <Path.ToolTip>
                                        <Border Background="#424242" BorderBrush="Gray" CornerRadius="3,3,3,3"
                                                BorderThickness="2">
                                            <StackPanel MaxWidth="300" Margin="3">
                                                <TextBlock Foreground="#FFDA0808" FontSize="14" Text="Hot state"
                                                           FontFamily="Segoe UI Semibold" />
                                                <TextBlock Foreground="AliceBlue"
                                                           Text="This level of performance indicates that your project is consuming too much RAM. You can take some actions
                                                           to reduce the amount of memory your project is using."
                                                           TextWrapping="Wrap" />
                                                <TextBlock Foreground="Gray"
                                                           Text="Reduce the number of nodes you are using." />
                                                <TextBlock Foreground="Gray"
                                                           Text="Divide your set of nodes into multiple functions." />
                                                <TextBlock Foreground="Gray"
                                                           Text="Load instructions via the 'Load' node." />
                                                <TextBlock Foreground="Gray"
                                                           Text="Write native code instead on using nodes." />
                                            </StackPanel>
                                        </Border>
                                    </Path.ToolTip>
                                </Path>
                                <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" x:Name="Risky"
                                      Fill="#FF000000" Height="15" Stretch="Fill" Width="15" Margin="-4,0,0,0"
                                      HorizontalAlignment="Left" Stroke="#FFBFBFBF">
                                    <Path.Data>
                                        <PathGeometry
                                            Figures="M 64.00 416.00l 96.00 96.00l 256.00-256.00L 160.00 0.00L 64.00 96.00l 160.00 160.00L 64.00 416.00z"
                                            FillRule="NonZero" />
                                    </Path.Data>
                                    <Path.ToolTip>
                                        <Border Background="#424242" BorderBrush="Gray" CornerRadius="3,3,3,3"
                                                BorderThickness="2">
                                            <StackPanel MaxWidth="300" Margin="3">
                                                <TextBlock Foreground="#FFF50909" FontSize="14" Text="Risky state"
                                                           FontFamily="Segoe UI Semibold" />
                                                <TextBlock Foreground="AliceBlue"
                                                           Text="This level of performance indicates that your project is consuming too much RAM. You can take some actions
                                                           to reduce the amount of memory your project is using."
                                                           TextWrapping="Wrap" />
                                                <TextBlock Foreground="Gray"
                                                           Text="Reduce the number of nodes you are using." />
                                                <TextBlock Foreground="Gray"
                                                           Text="Divide your set of nodes into multiple functions." />
                                                <TextBlock Foreground="Gray"
                                                           Text="Load instructions via the 'Load' node." />
                                                <TextBlock Foreground="Gray"
                                                           Text="Write native code instead on using nodes." />
                                            </StackPanel>
                                        </Border>
                                    </Path.ToolTip>
                                </Path>
                            </StackPanel>

                        </Grid>

                    </Grid>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="NodesTree" TargetType="controls:NodesTree">
        <Setter Property="Width" Value="340" />

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <ControlTemplate.Resources>
                        <Style x:Key="BackBorder" TargetType="Border">
                            <Setter Property="CornerRadius" Value="10,10,10,10" />
                            <Setter Property="BorderBrush" Value="Black" />
                            <Setter Property="BorderThickness" Value="2" />
                            <Setter Property="Background" Value="{DynamicResource GlobalBackground}" />
                        </Style>
                    </ControlTemplate.Resources>
                    <Canvas>
                        <Border Width="310" Height="290" Style="{DynamicResource BackBorder}" />
                        <StackPanel Canvas.Left="5" Canvas.Top="16" Orientation="Vertical" VerticalAlignment="Top"
                                    Background="Transparent">

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,3,0,0">

                                <TextBox x:Name="SearchTextBox" Focusable="True" Background="DarkGray"
                                         BorderThickness="1" BorderBrush="AliceBlue" Height="20" Width="300" />
                                <Canvas Height="20" Width="20" Margin="-25,0,0,0">
                                    <Canvas.Background>
                                        <ImageBrush
                                            ImageSource="../MediaResources/Search.png" Stretch="None" />
                                    </Canvas.Background>
                                </Canvas>
                            </StackPanel>
                            <Canvas>
                                <TreeView x:Name="Tv" Background="{DynamicResource GlobalBackground}" Width="300"
                                          Height="245"
                                          Margin="0,3,0,0" BorderBrush="{DynamicResource GlobalBackground}"
                                          VirtualizingStackPanel.IsVirtualizing="True">

                                    <TreeView.Resources>

                                        <LinearGradientBrush x:Key="{x:Static SystemColors.HighlightBrushKey}"
                                                             EndPoint="0,1" StartPoint="0,0">
                                            <GradientStop Color="#FF4B4A4A" Offset="0" />
                                            <GradientStop Color="#FF3E3D3D" Offset="1" />
                                        </LinearGradientBrush>

                                        <LinearGradientBrush x:Key="{x:Static SystemColors.ControlBrushKey}"
                                                             EndPoint="0,1" StartPoint="0,0">
                                            <GradientStop Color="#FF4A4A4B" Offset="0" />
                                            <GradientStop Color="#FF3E3D3D" Offset="1" />
                                        </LinearGradientBrush>
                                        <LinearGradientBrush
                                            x:Key="{x:Static SystemColors.InactiveSelectionHighlightBrushKey}"
                                            EndPoint="0,1" StartPoint="0,0">
                                            <GradientStop Color="#FF4A4A4B" Offset="0" />
                                            <GradientStop Color="#FF3E3D3D" Offset="1" />
                                        </LinearGradientBrush>
                                        <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}"
                                                         Color="Black" />
                                        <SolidColorBrush x:Key="{x:Static SystemColors.ControlTextBrushKey}"
                                                         Color="Black" />


                                        <HierarchicalDataTemplate DataType="{x:Type controls:NodeItem}"
                                                                  ItemsSource="{Binding Children,Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">

                                            <StackPanel Orientation="Horizontal">
                                                <Canvas Width="12" Height="12" x:Name="IconHoster" />
                                                <StackPanel Orientation="Vertical">
                                                    <TextBlock Text="{Binding NodeName, Mode=OneWay}"
                                                               Foreground="AliceBlue"
                                                               Margin="5,0,0,0" />
                                                    <TextBlock x:Name="Desc" TextWrapping="Wrap" Visibility="Collapsed"
                                                               MaxWidth="200"
                                                               Margin="5,0,0,0" Text="{Binding Description}"
                                                               Foreground="Wheat" />

                                                </StackPanel>

                                            </StackPanel>


                                            <HierarchicalDataTemplate.Triggers>
                                                <DataTrigger Binding="{Binding HasIcon}" Value="True" />

                                                <DataTrigger Binding="{Binding ShowToolTip}" Value="True">
                                                    <Setter TargetName="Desc" Property="Visibility" Value="Visible" />

                                                </DataTrigger>
                                            </HierarchicalDataTemplate.Triggers>
                                        </HierarchicalDataTemplate>

                                    </TreeView.Resources>

                                    <TreeView.ItemContainerStyle>
                                        <Style TargetType="{x:Type TreeViewItem}">
                                            <Setter Property="BorderThickness" Value="1.5" />
                                            <Style.Triggers>
                                                <Trigger Property="IsSelected" Value="True">
                                                    <Setter Property="BorderBrush">
                                                        <Setter.Value>
                                                            <RadialGradientBrush>
                                                                <GradientStop Color="#FF4B4A4A" Offset="0" />
                                                                <GradientStop Color="#FF515151" Offset="1" />
                                                            </RadialGradientBrush>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Trigger>

                                            </Style.Triggers>
                                            <Style.Resources>
                                                <Style TargetType="Border">
                                                    <Setter Property="CornerRadius" Value="2" />
                                                </Style>
                                            </Style.Resources>
                                        </Style>
                                    </TreeView.ItemContainerStyle>
                                </TreeView>
                            </Canvas>
                        </StackPanel>
                    </Canvas>
                </ControlTemplate>

            </Setter.Value>
        </Setter>

    </Style>
    <Style x:Key="ScrollThumbs" TargetType="{x:Type Thumb}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Grid x:Name="Grid">
                        <Rectangle HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="Auto"
                                   Height="Auto" Fill="Transparent" />
                        <Border x:Name="VirtualThumb" CornerRadius="5" HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch" Width="Auto" Height="Auto"
                                Background="{TemplateBinding Background}" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="Tag" Value="Horizontal">
                            <Setter TargetName="VirtualThumb" Property="Width" Value="Auto" />
                            <Setter TargetName="VirtualThumb" Property="Height" Value="7" />
                        </Trigger>

                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="{x:Type ScrollBar}" TargetType="{x:Type ScrollBar}">
        <Setter Property="Stylus.IsFlicksEnabled" Value="false" />
        <Setter Property="Foreground" Value="#8C8C8C" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Width" Value="8" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ScrollBar}">
                    <Grid x:Name="GridRoot" Width="8" Background="{TemplateBinding Background}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="0.00001*" />
                        </Grid.RowDefinitions>

                        <Track x:Name="PART_Track" Grid.Row="0" IsDirectionReversed="true" Focusable="false">
                            <Track.Thumb>
                                <Thumb x:Name="Thumb" Background="#424242"
                                       Style="{DynamicResource ScrollThumbs}" />
                            </Track.Thumb>
                            <Track.IncreaseRepeatButton>
                                <RepeatButton x:Name="PageUp" Command="ScrollBar.PageDownCommand" Opacity="0"
                                              Focusable="false" />
                            </Track.IncreaseRepeatButton>
                            <Track.DecreaseRepeatButton>
                                <RepeatButton x:Name="PageDown" Command="ScrollBar.PageUpCommand" Opacity="0"
                                              Focusable="false" />
                            </Track.DecreaseRepeatButton>
                        </Track>
                    </Grid>

                    <ControlTemplate.Triggers>
                        <Trigger SourceName="Thumb" Property="IsMouseOver" Value="true">
                            <Setter Value="#FF434344" TargetName="Thumb"
                                    Property="Background" />
                        </Trigger>
                        <Trigger SourceName="Thumb" Property="IsDragging" Value="true">
                            <Setter Value="#FFAFABBB" TargetName="Thumb"
                                    Property="Background" />
                        </Trigger>

                        <Trigger Property="IsEnabled" Value="false">
                            <Setter TargetName="Thumb" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="Orientation" Value="Horizontal">
                            <Setter TargetName="GridRoot" Property="LayoutTransform">
                                <Setter.Value>
                                    <RotateTransform Angle="-90" />
                                </Setter.Value>
                            </Setter>
                            <Setter TargetName="PART_Track" Property="LayoutTransform">
                                <Setter.Value>
                                    <RotateTransform Angle="-90" />
                                </Setter.Value>
                            </Setter>
                            <Setter Property="Width" Value="Auto" />
                            <Setter Property="Height" Value="8" />
                            <Setter TargetName="Thumb" Property="Tag" Value="Horizontal" />
                            <Setter TargetName="PageDown" Property="Command" Value="ScrollBar.PageLeftCommand" />
                            <Setter TargetName="PageUp" Property="Command" Value="ScrollBar.PageRightCommand" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="TickBorder" TargetType="Border">
        <Setter Property="Height" Value="16" />
        <Setter Property="Width" Value="16" />
        <Setter Property="Background">
            <Setter.Value>
                <ImageBrush
                    ImageSource="../MediaResources/tick.png" />

            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="CrossBorder" TargetType="Border">
        <Setter Property="Height" Value="16" />
        <Setter Property="Width" Value="16" />
        <Setter Property="Background">
            <Setter.Value>
                <ImageBrush
                    ImageSource="../MediaResources/Cross.png" />

            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="WarningBorder" TargetType="Border">
        <Setter Property="Height" Value="16" />
        <Setter Property="Width" Value="16" />
        <Setter Property="Background">
            <Setter.Value>
                <ImageBrush
                    ImageSource="../MediaResources/Warning.png" />

            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="InnerMessageBox" TargetType="controls:InnerLinkingMessageBox">
        <Setter Property="Height" Value="25" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border BorderBrush="WhiteSmoke" BorderThickness=".7" Height="25">
                        <StackPanel HorizontalAlignment="Left" Orientation="Horizontal" ClipToBounds="False"
                                    Background="#353535">


                            <Border x:Name="BorderIcon" Height="16" Width="16" BorderBrush="Transparent">
                                <Border.Background>
                                    <ImageBrush
                                        ImageSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Uri}" />
                                </Border.Background>
                            </Border>
                            <Label Margin="0,-2.5,0,0" Foreground="AliceBlue"
                                   Content="{Binding RelativeSource={RelativeSource  TemplatedParent},Path=Text}" />

                        </StackPanel>

                    </Border>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="CheckBoxStyle" TargetType="{x:Type CheckBox}">
        <Setter Property="SnapsToDevicePixels" Value="true" />
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="Height" Value="30" />
        <Setter Property="FocusVisualStyle" Value="{DynamicResource MyFocusVisualStyte}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type CheckBox}">
                    <BulletDecorator>
                        <BulletDecorator.Bullet>
                            <Grid Height="{TemplateBinding Height}"
                                  Width="{Binding RelativeSource={RelativeSource Self}, Path=Height, UpdateSourceTrigger=PropertyChanged}"
                                  MinHeight="30" MinWidth="30" ShowGridLines="False">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="4*" />
                                    <ColumnDefinition Width="1*" />
                                    <ColumnDefinition Width="1*" />
                                    <ColumnDefinition Width="4*" />
                                    <ColumnDefinition Width="1*" />
                                    <ColumnDefinition Width="1*" />
                                    <ColumnDefinition Width="2*" />
                                    <ColumnDefinition Width="2*" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="3*" />
                                    <RowDefinition Height="1*" />
                                    <RowDefinition Height="1*" />
                                    <RowDefinition Height="1*" />
                                    <RowDefinition Height="4*" />
                                    <RowDefinition Height="1*" />
                                    <RowDefinition Height="1*" />
                                    <RowDefinition Height="4*" />
                                </Grid.RowDefinitions>

                                <Border Name="MainBorder"
                                        Grid.ColumnSpan="9" Grid.RowSpan="9"
                                        CornerRadius="4"
                                        BorderThickness="1"
                                        Background="Transparent" />

                                <Border Name="InnerBorder"
                                        Grid.Column="1" Grid.ColumnSpan="5"
                                        Grid.Row="2" Grid.RowSpan="5"
                                        BorderThickness="1"
                                        BorderBrush="#808080" />

                                <Path Name="InnerPath"
                                      Grid.Column="1" Grid.ColumnSpan="5"
                                      Grid.Row="2" Grid.RowSpan="5"
                                      Data="M31,5 L19.5,5 19.5,19.5 34.5,19.5 34.5,11.75"
                                      Stretch="Fill" Stroke="#808080" />

                                <Path Name="CheckMark"
                                      Grid.Column="2" Grid.ColumnSpan="5"
                                      Grid.Row="1" Grid.RowSpan="5"
                                      Opacity="0"
                                      Data="M9.07743946676476E-09,4.31805768640244L4.68740335877841,8.86361158398516C4.68740335877841,8.86361158398516,16.3281249985376,-2.42451336648723,16.3281249985376,-2.42451336648723L14.0622100581796,-4.77304938341948 4.68740335877846,4.31805791992662 2.22656251699567,1.93164208562579z"
                                      Fill="WhiteSmoke"
                                      Stretch="Fill"
                                      Stroke="FloralWhite" />

                                <Path Name="InderminateMark"
                                      Grid.Column="3"
                                      Grid.Row="4"
                                      Data="M0,4 L1,5 5,1 4,0"
                                      Opacity="0"
                                      Stretch="Fill"
                                      StrokeThickness="0"
                                      Fill="#808080" />
                            </Grid>
                        </BulletDecorator.Bullet>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CheckStates">
                                <VisualState x:Name="Checked">
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                         Storyboard.TargetName="CheckMark" Duration="0:0:0.2" To="1" />
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Unchecked">
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                         Storyboard.TargetName="CheckMark" Duration="0:0:0.2" To="0" />
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Indeterminate">
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                         Storyboard.TargetName="InderminateMark" Duration="0:0:0.2"
                                                         To="1" />
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <ContentPresenter Margin="4,0,4,0"
                                          VerticalAlignment="Center"
                                          HorizontalAlignment="Left"
                                          RecognizesAccessKey="True" />
                    </BulletDecorator>

                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="InnerBorder" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="MainBorder" Property="Background" Value="#66999999" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="CheckMark" Property="Fill" Value="#cccccc" />
                            <Setter TargetName="CheckMark" Property="Stroke" Value="#cccccc" />
                            <Setter TargetName="InnerPath" Property="Stroke" Value="#cccccc" />
                            <Setter TargetName="InderminateMark" Property="Fill" Value="#cccccc" />
                            <Setter TargetName="InnerBorder" Property="BorderBrush" Value="#cccccc" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="RTypesGallery" TargetType="controls:RTypesGallery">

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <ComboBox x:Name="InputTypes" Style="{DynamicResource {x:Static ToolBar.ComboBoxStyleKey}}"
                              Background="#353535" Foreground="White">
                        <StackPanel Orientation="Horizontal">
                            <Ellipse Height="15" Width="15" Fill="Gray">
                                <Ellipse.Effect>
                                    <BlurEffect Radius="3" />
                                </Ellipse.Effect>
                            </Ellipse>
                            <TextBlock Margin="5,0,0,0"
                                       Text="Generic" Foreground="WhiteSmoke" />

                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <Ellipse Height="15" Width="15" Fill="Lime">
                                <Ellipse.Effect>
                                    <BlurEffect Radius="3" />
                                </Ellipse.Effect>
                            </Ellipse>
                            <TextBlock Margin="5,0,0,0"
                                       Text="Numeric" Foreground="WhiteSmoke" />

                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <Ellipse Height="15" Width="15" Fill="Red">
                                <Ellipse.Effect>
                                    <BlurEffect Radius="3" />
                                </Ellipse.Effect>
                            </Ellipse>
                            <TextBlock Margin="5,0,0,0"
                                       Text="Boolean" Foreground="WhiteSmoke" />

                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <Ellipse Height="15" Width="15" Fill="Violet">
                                <Ellipse.Effect>
                                    <BlurEffect Radius="3" />
                                </Ellipse.Effect>
                            </Ellipse>
                            <TextBlock Margin="5,0,0,0"
                                       Text="Character" Foreground="WhiteSmoke" />

                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <Ellipse Height="15" Width="15" Fill="Cyan">
                                <Ellipse.Effect>
                                    <BlurEffect Radius="3" />
                                </Ellipse.Effect>
                            </Ellipse>
                            <TextBlock Margin="5,0,0,0"
                                       Text="Array|List|Matrix|Factor" Foreground="WhiteSmoke" />

                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <Ellipse Height="15" Width="15" Fill="Orange">
                                <Ellipse.Effect>
                                    <BlurEffect Radius="3" />
                                </Ellipse.Effect>
                            </Ellipse>
                            <TextBlock Margin="5,0,0,0"
                                       Text="Data Frame" Foreground="WhiteSmoke" />

                        </StackPanel>
                    </ComboBox>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="VariablesList" TargetType="controls:VariablesList">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <StackPanel Orientation="Vertical" Background="{DynamicResource GlobalBackground}">
                        <Expander x:Name="Variables">
                            <Expander.Header>
                                <StackPanel Orientation="Horizontal">
                                    <Image Source="../MediaResources/VariablesListIcons/Object.png" />
                                    <TextBlock Margin="3,0,0,0" Text="Variables" Foreground="AliceBlue" />
                                    <Button Name="VarAdd" Margin="5,0,0,0" Height="16" Width="16" BorderThickness="0"
                                            ToolTip="Add variable.">

                                        <Button.Template>
                                            <ControlTemplate>
                                                <Border Name="borderplus" Height="16" Width="16">
                                                    <Border.Background>
                                                        <ImageBrush
                                                            ImageSource="../MediaResources/VariablesListIcons/Plus.png" />
                                                    </Border.Background>

                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="borderplus" Property="Background">
                                                            <Setter.Value>
                                                                <ImageBrush
                                                                    ImageSource="../MediaResources/VariablesListIcons/PlusHover.png" />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>
                                    <Button Name="VarRemove" Margin="5,0,0,0" Height="16" Width="16"
                                            BorderThickness="0" ToolTip="Remove variable.">

                                        <Button.Template>
                                            <ControlTemplate>
                                                <Border Name="borderplus" Height="16" Width="16">
                                                    <Border.Background>
                                                        <ImageBrush
                                                            ImageSource="../MediaResources/VariablesListIcons/Types/DataFrame.png" />
                                                    </Border.Background>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="borderplus" Property="Background">
                                                            <Setter.Value>
                                                                <ImageBrush
                                                                    ImageSource="../MediaResources/VariablesListIcons/Types/Logical.png" />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>


                                </StackPanel>
                            </Expander.Header>
                            <StackPanel Orientation="Vertical">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                    <TextBox x:Name="VarSearchTextBox" Focusable="True" Background="DarkGray"
                                             BorderThickness="1" BorderBrush="Black" Height="20" Width="240" />
                                    <Canvas Height="20" Width="20" Margin="-25,0,0,0">
                                        <Canvas.Background>
                                            <ImageBrush ImageSource="../MediaResources/Search.png" Stretch="None" />
                                        </Canvas.Background>
                                    </Canvas>
                                </StackPanel>
                                <ListView
                                    MaxHeight="200"
                                    BorderBrush="Transparent"
                                    Background="Transparent" x:Name="VarList" Margin="10,5,0,0">

                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <Grid Name="VarGrid" Background="Transparent" Width="200" Height="20">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="{Binding Icon}" VerticalAlignment="Top" />
                                                    <TextBlock Text="{Binding Name}"
                                                               Foreground="AliceBlue" MaxWidth="160"
                                                               TextTrimming="CharacterEllipsis" />
                                                </StackPanel>
                                                <Path HorizontalAlignment="Right" Height="24" Width="24"
                                                      Style="{DynamicResource ToolTipHint}" Name="Spy"
                                                      Stretch="Uniform" StrokeThickness="1.33333325">
                                                    <Path.ToolTip>
                                                        <Border Background="#424242" BorderBrush="Gray"
                                                                CornerRadius="3,3,3,3"
                                                                BorderThickness="2">
                                                            <StackPanel MaxWidth="300" Margin="3">
                                                                <TextBlock Foreground="Gold" FontSize="12"
                                                                           Text="{Binding Name}"
                                                                           FontFamily="Segoe UI Semibold" />
                                                                <TextBlock Text="{Binding Ref}" Foreground="White" />
                                                                <TextBlock Text="{Binding GetsTip}" Foreground="Wheat" />
                                                                <TextBlock Text="{Binding SetsTip}" Foreground="Wheat" />
                                                            </StackPanel>
                                                        </Border>
                                                    </Path.ToolTip>
                                                </Path>
                                            </Grid>

                                        </DataTemplate>
                                    </ListView.ItemTemplate>

                                </ListView>
                                <Expander Margin="0,10,0,0" x:Name="Details">
                                    <Expander.Header>
                                        <StackPanel Orientation="Horizontal">
                                            <Image Source="../MediaResources/VariablesListIcons/Details.png" />
                                            <TextBlock Margin="3,0,0,0" Text="Details" Foreground="AliceBlue" />
                                        </StackPanel>
                                    </Expander.Header>

                                    <StackPanel Orientation="Vertical">

                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Name: " Foreground="AliceBlue" />
                                            <TextBox Name="NameTextBox" Foreground="AliceBlue" CaretBrush="WhiteSmoke"
                                                     SelectionBrush="#353535" Background="Transparent" Width="200"
                                                     ToolTip="Rename your variable." />
                                        </StackPanel>
                                        <StackPanel Margin="0,5,0,0" Orientation="Horizontal" Background="Transparent">
                                            <TextBlock Text="Type:" Foreground="AliceBlue" />
                                            <ListBox
                                                BorderBrush="Transparent"
                                                Background="Transparent" x:Name="RadioList" Margin="10,5,0,0">
                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <StackPanel Orientation="Horizontal" Background="Transparent">
                                                            <RadioButton Name="RadioType"
                                                                         GroupName="Types"
                                                                         IsChecked="{Binding Chosen, Mode=TwoWay}" />
                                                            <Image Source="{Binding Icon}" />
                                                            <TextBlock Margin="3,0,0,0" Text="{Binding Name}"
                                                                       Foreground="AliceBlue" />
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>

                                            </ListBox>

                                        </StackPanel>

                                    </StackPanel>

                                </Expander>
                            </StackPanel>

                        </Expander>

                    </StackPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="VariableHoster" TargetType="controls:VariableHoster">
        <Setter Property="ShowInTaskbar" Value="False" />
        <Setter Property="WindowStyle" Value="None" />
        <Setter Property="ResizeMode" Value="NoResize" />
        <Setter Property="Height" Value="25" />
        <Setter Property="Width" Value="100" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Canvas Background="#353535">
                        <Border x:Name="GoldenBorder"
                                Width="{Binding RelativeSource={RelativeSource TemplatedParent},Path=ActualWidth}"
                                Height="{Binding RelativeSource={RelativeSource TemplatedParent},Path=ActualHeight}"
                                CornerRadius="4,4,4,4"

                                BorderThickness="2"
                                Background="{DynamicResource GlobalBackground}">
                            <Border.BorderBrush>
                                <RadialGradientBrush>
                                    <GradientStop Color="#FFFFB10C" Offset="0.215" />
                                    <GradientStop Color="#FF916E24" Offset="0" />

                                </RadialGradientBrush>
                            </Border.BorderBrush>
                        </Border>
                        <Border x:Name="Icon" Height="16" Width="16" Margin="5,3,0,0">
                            <Border.Background>
                                <ImageBrush ImageSource="{Binding RelativeSource={RelativeSource Self},Path=Icon}" />
                            </Border.Background>
                        </Border>
                        <TextBlock x:Name="VarName" Margin="25,3,0,0" Foreground="AliceBlue" />
                    </Canvas>
                </ControlTemplate>
            </Setter.Value>
        </Setter>

    </Style>
    <Style x:Key="UnknownFile" TargetType="Path">
        <Setter Property="Data">
            <Setter.Value>
                <PathGeometry
                    Figures="m 52.916666 122.375 h 31.75 l 10.583333 10.58333 v 58.20834 H 50.270833 v -68.79167 0 z"
                    FillRule="NonZero" />
            </Setter.Value>
        </Setter>
        <Setter Property="Stretch" Value="Uniform" />
        <Setter Property="Stroke" Value="Black" />
        <Setter Property="Fill">
            <Setter.Value>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="#FF5F5F5F" Offset="1" />
                    <GradientStop Color="White" Offset="0.109" />
                </LinearGradientBrush>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="ContentBrowserElement" TargetType="{x:Type ListViewItem}">
        <Setter Property="HorizontalAlignment" Value="Left" />
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ListViewItem}">
                    <Grid HorizontalAlignment="Left" VerticalAlignment="Top">
                        <Border x:Name="border" BorderBrush="{x:Null}" BorderThickness="1"
                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch" CornerRadius="2.5" />
                        <WrapPanel HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                            <ContentPresenter Margin="3,3,5,30" />
                        </WrapPanel>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="ExplorerItem" TargetType="controls:ExplorerItem">

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border x:Name="ExplorerItemContainer" CornerRadius="8">
                        <StackPanel Orientation="Vertical" Margin="3" Background="{Binding BackColor}" Width="68"
                                    Height="100"
                                    ClipToBounds="True">
                            <Canvas x:Name="Image" Visibility="Hidden">
                                <Rectangle Fill="{Binding ItemColor}" Opacity=".4" Canvas.Left="2"
                                           x:Name="SelectionBox" Height="64" Width="64" StrokeThickness="1">
                                    <Rectangle.Effect>
                                        <BlurEffect Radius="3" />
                                    </Rectangle.Effect>
                                </Rectangle>

                                <Rectangle Canvas.Left="2" Canvas.Top="57" Height="6.4" Width="64"
                                           Fill="{Binding ItemColor}" RadiusY="4" RadiusX="4" />
                                <Rectangle x:Name="Thumbnail" Width="42" Height="42" Canvas.Left="12" Canvas.Top="6" />
                            </Canvas>
                            <Grid x:Name="Folder" ClipToBounds="True" Margin="0,12,0,0"
                                  Visibility="Hidden" Width="52" Height="52">
                                <StackPanel Orientation="Vertical">
                                    <Path Stretch="Uniform" StrokeThickness="1.33333337">
                                        <Path.Fill>
                                            <LinearGradientBrush>
                                                <GradientStop Color="#FF141F2B" Offset="0.774" />
                                                <GradientStop Color="#FF979797" />
                                            </LinearGradientBrush>
                                        </Path.Fill>
                                        <Path.Data>
                                            <PathGeometry
                                                Figures="m 36.08425 225.37304 c 3.687503 -0.38572 5.000001 -1.13954 5.000001 -2.87168 0 -4.92432 4.279726 -14.59278 8.064553 -18.21887 2.169627 -2.07864 6.743628 -5.31508 10.164449 -7.19208 9.241516 -5.07084 10.814177 -8.05027 12.940261 -24.5155 1.607543 -12.44945 2.399082 -15.09711 5.751785 -19.23949 2.138244 -2.64187 6.255744 -6.04563 9.150001 -7.56391 5.140936 -2.69685 7.276218 -2.77019 92.59562 -3.18018 95.45312 -0.45869 98.15761 -0.28718 106.152 6.73198 7.0916 6.22651 8.7382 10.6307 9.68435 25.90307 0.73396 11.84719 1.26586 14.14613 3.87724 16.75775 l 3.02658 3.02687 163.62993 0.66666 c 162.75799 0.66312 163.65832 0.68152 168.96324 3.45406 6.35662 3.3222 12.57175 12.61305 13.60857 20.3431 0.69946 5.21488 0.91185 5.41624 6.22446 5.90136 3.02518 0.27624 -136.0997 0.50623 -309.16637 0.51107 -173.06667 0.005 -312.41667 -0.22655 -309.66667 -0.51421 z"
                                                FillRule="NonZero" />
                                        </Path.Data>
                                    </Path>
                                    <Path Margin="0,-2,0,0" Stretch="Uniform" StrokeThickness="1.33333337">
                                        <Path.Fill>
                                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                <GradientStop Color="Black" Offset="1.5" />
                                                <GradientStop Color="#FF6E6E6E" Offset="0.029" />
                                                <GradientStop Color="#FF000102" />
                                            </LinearGradientBrush>
                                        </Path.Fill>
                                        <Path.Data>
                                            <PathGeometry
                                                Figures="m 35.46142 662.88211 c -5.645595 -6.04364 -6.953389 -12.93947 -7.582867 -39.98349 -0.31759 -13.64451 -1.179782 -51.50821 -1.915981 -84.14154 -1.96164 -86.95319 -5.166926 -162.45026 -9.992734 -235.36814 -1.271839 -19.21746 -1.512834 -30.87022 -0.697253 -33.71399 2.083099 -7.26333 6.312426 -12.8508 12.339504 -16.302 l 5.732545 -3.28255 314.483266 -0.34436 c 218.55465 -0.2393 316.08585 0.0872 319.73701 1.07034 6.94134 1.8691 15.21772 10.23518 17.12215 17.30772 1.12319 4.17118 0.98421 13.3284 -0.57271 37.73698 -5.17222 81.08726 -8.05125 149.04533 -10.06429 237.56267 -2.32833 102.38191 -2.43281 105.12652 -4.2054 110.47999 -0.93725 2.83066 -3.32391 6.88066 -5.30367 9 l -3.59956 3.85334 H 350.01131 39.081194 Z"
                                                FillRule="NonZero" />
                                        </Path.Data>
                                        <Path.Effect>
                                            <DropShadowEffect BlurRadius="5" Color="Black" />
                                        </Path.Effect>
                                    </Path>
                                </StackPanel>
                            </Grid>
                            <Label x:Name="Tag" BorderBrush="Transparent" VerticalAlignment="Center"
                                   Background="Transparent" HorizontalAlignment="Center">
                                <TextBlock Foreground="{Binding Foreground}" VerticalAlignment="Center" MaxWidth="65"
                                           MaxHeight="40" TextWrapping="Wrap" Background="Transparent"
                                           TextTrimming="CharacterEllipsis" HorizontalAlignment="Center"
                                           Text="{Binding ItemName}" />

                            </Label>
                            <TextBox Visibility="Collapsed" x:Name="RenameBox" Text="{Binding ItemName}"
                                     Background="Transparent" Foreground="WhiteSmoke"
                                     TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Disabled"
                                     HorizontalAlignment="Center" MaxWidth="64" MaxHeight="40"
                                     BorderBrush="White" BorderThickness="1">
                                <TextBox.Effect>
                                    <DropShadowEffect BlurRadius="10" Color="White" />
                                </TextBox.Effect>
                            </TextBox>
                        </StackPanel>
                        <Border.ContextMenu>
                            <ContextMenu />
                        </Border.ContextMenu>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="ExplorerItemContainer" Property="Background">
                                <Setter.Value>
                                    <DrawingBrush>
                                        <DrawingBrush.Drawing>
                                            <DrawingGroup>

                                                <GeometryDrawing>
                                                    <GeometryDrawing.Brush>
                                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1"
                                                                             SpreadMethod="Pad">
                                                            <GradientStop Color="#FF6C6C6C" Offset="1" />
                                                            <GradientStop Color="#22FFFFFF" Offset="0" />
                                                        </LinearGradientBrush>
                                                    </GeometryDrawing.Brush>
                                                    <GeometryDrawing.Geometry>
                                                        <RectangleGeometry Rect="0,0 1,0.48" />
                                                    </GeometryDrawing.Geometry>
                                                </GeometryDrawing>
                                            </DrawingGroup>
                                        </DrawingBrush.Drawing>
                                    </DrawingBrush>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        <DataTrigger Binding="{Binding IsSelected}" Value="True">
                            <Setter TargetName="ExplorerItemContainer" Property="Border.Background">
                                <Setter.Value>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1"
                                                         SpreadMethod="Pad">
                                        <GradientStop Color="#99FFE909" Offset="1" />
                                        <GradientStop Color="#FF232000" Offset="0" />
                                    </LinearGradientBrush>
                                </Setter.Value>
                            </Setter>
                            <Setter TargetName="ExplorerItemContainer" Property="Border.BorderThickness" Value="2" />

                            <Setter TargetName="ExplorerItemContainer" Property="Border.BorderBrush">
                                <Setter.Value>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1"
                                                         SpreadMethod="Pad">
                                        <GradientStop Color="#99FFB109" Offset="0" />
                                        <GradientStop Color="#CC383302" Offset="1" />
                                    </LinearGradientBrush>
                                </Setter.Value>
                            </Setter>

                        </DataTrigger>
                    </ControlTemplate.Triggers>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="ToolTip">

            <Setter.Value>
                <Grid>
                    <Border CornerRadius="5">
                        <Border.Background>
                            <LinearGradientBrush>
                                <GradientStop Color="#99CD3800" Offset="0.763" />
                                <GradientStop Color="#FFCB8C1F" Offset="0.028" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <StackPanel Orientation="Vertical" Background="#353535" Margin="3,3,3,3">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="File Name:   " Foreground="Gray" FontSize="13" />
                                <TextBlock Foreground="WhiteSmoke" Text="{Binding ItemName}" FontSize="13" />
                            </StackPanel>
                            <Border BorderBrush="Azure" BorderThickness="0,1,0,0" Margin="0,8" Background="#FF09172B" />
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Type:   " Foreground="Gray" />
                                <TextBlock Foreground="WhiteSmoke" Text="{Binding Extension}" />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Size:    " Foreground="Gray" />
                                <TextBlock Foreground="WhiteSmoke" Text="{Binding Size}" />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Path:   " Foreground="Gray" />
                                <TextBlock Foreground="WhiteSmoke" Text="{Binding Path}" MaxWidth="300"
                                           Margin="0,0,3,0" TextWrapping="Wrap" />
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </Grid>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="ToolTip">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToolTip">
                    <ContentPresenter />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="FolderItem" TargetType="controls:FolderItem">
        <Setter Property="Margin" Value="5,0,0,0" />
        <Setter Property="Focusable" Value="False" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <StackPanel x:Name="pnl" Background="Transparent" Orientation="Horizontal">
                        <TextBlock Background="Transparent" Text="🗀  " Foreground="White" FontSize="16"
                                   FontFamily="Microsoft YaHei UI" />
                        <TextBlock Background="Transparent" Margin="0,3,0,0" Foreground="AliceBlue"
                                   Text="{Binding RelativeSource={RelativeSource TemplatedParent},Path=FolderName }" />
                        <StackPanel.ToolTip>
                            <Border Background="#424242" BorderBrush="Gray" CornerRadius="3,3,3,3"
                                    BorderThickness="2">
                                <StackPanel Orientation="Vertical" Margin="3,0,3,3">
                                    <TextBlock Background="Transparent" Margin="0,3,0,0" Foreground="AliceBlue"
                                               Text="{Binding RelativeSource={RelativeSource TemplatedParent},Path=Path }" />
                                </StackPanel>
                            </Border>
                        </StackPanel.ToolTip>
                    </StackPanel>

                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="pnl" Property="Canvas.Background">
                                <Setter.Value>
                                    <LinearGradientBrush
                                        EndPoint="0,1" StartPoint="0,0">
                                        <GradientStop Color="#FF4B4A4A" Offset="0" />
                                        <GradientStop Color="#FF3E3D3D" Offset="1" />
                                    </LinearGradientBrush>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        <Trigger Property="IsFocused" Value="True">
                            <Setter TargetName="pnl" Property="Canvas.Background">
                                <Setter.Value>
                                    <LinearGradientBrush
                                        EndPoint="0,1" StartPoint="0,0">
                                        <GradientStop Color="#FF4B4A4A" Offset="0" />
                                        <GradientStop Color="#FF3E3D3D" Offset="1" />
                                    </LinearGradientBrush>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="ContentsBrowser" TargetType="controls:ContentsBrowser">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Grid>


                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <Path Margin="5" Style="{DynamicResource ToolTipHint}"

                              Stretch="Fill" VerticalAlignment="Top" HorizontalAlignment="Right"
                              Height="25" Width="25">
                            <Path.ToolTip>
                                <Border Background="#424242" CornerRadius="3,3,3,3"
                                        BorderThickness="2" BorderBrush="Cyan">
                                    <StackPanel Orientation="Vertical" Background="Transparent" Margin="5">
                                        <TextBlock Text="Supported types: " Foreground="Wheat" FontSize="16"
                                                   FontFamily="Segoe WP Semibold" />
                                        <StackPanel Margin="0,3,0,0" Orientation="Horizontal">
                                            <Rectangle Height="16" Width="16" Fill="Orange" />
                                            <TextBlock Margin="3,0,0,0" Text="Data." Foreground="WhiteSmoke" />
                                        </StackPanel>
                                        <StackPanel Margin="0,3,0,0" Orientation="Horizontal">
                                            <Rectangle Height="16" Width="16" Fill="Aqua" />
                                            <TextBlock Margin="3,0,0,0" Text="Text files." Foreground="WhiteSmoke" />
                                        </StackPanel>
                                        <StackPanel Margin="0,3,0,0" Orientation="Horizontal">
                                            <Rectangle Height="16" Width="16" Fill="Lime" />
                                            <TextBlock Margin="3,0,0,0" Text="Images." Foreground="WhiteSmoke" />
                                        </StackPanel>
                                        <StackPanel Margin="0,3,0,0" Orientation="Horizontal">
                                            <Rectangle Height="16" Width="16" Fill="DarkCyan" />
                                            <TextBlock Margin="3,0,0,0" Text="Documents." Foreground="WhiteSmoke" />
                                        </StackPanel>
                                        <StackPanel Margin="0,3,0,0" Orientation="Horizontal">
                                            <Rectangle Height="16" Width="16" Fill="Violet" />
                                            <TextBlock Margin="3,0,0,0" Text="Media/Videos." Foreground="WhiteSmoke" />
                                        </StackPanel>
                                        <StackPanel Margin="0,3,0,0" Orientation="Horizontal">
                                            <Rectangle Height="16" Width="16" Fill="DarkViolet" />
                                            <TextBlock Margin="3,0,0,0" Text="Codes." Foreground="WhiteSmoke" />
                                        </StackPanel>
                                        <StackPanel Margin="0,3,0,0" Orientation="Horizontal">
                                            <Rectangle Height="16" Width="16" Fill="Yellow" />
                                            <TextBlock Margin="3,0,0,0" Text="Audio." Foreground="WhiteSmoke" />
                                        </StackPanel>
                                        <StackPanel Margin="0,3,0,0" Orientation="Horizontal">
                                            <Rectangle Height="16" Width="16" Fill="Black" />
                                            <TextBlock Margin="3,0,0,0" Text="Executable." Foreground="WhiteSmoke" />
                                        </StackPanel>
                                        <StackPanel Margin="0,3,0,0" Orientation="Horizontal">
                                            <Rectangle Height="16" Width="16" Fill="Gray" />
                                            <TextBlock Margin="3,0,0,0" Text="Unknown files." Foreground="WhiteSmoke" />
                                        </StackPanel>

                                    </StackPanel>
                                </Border>
                            </Path.ToolTip>

                        </Path>
                        <StackPanel Orientation="Horizontal" Grid.Row="0">
                            <StackPanel.Resources>
                                <Style x:Key="CommonBorder" TargetType="Border">
                                    <Setter Property="Background" Value="#665D5D5D" />
                                    <Style.Triggers>
                                        <Trigger Property="Border.IsMouseOver" Value="True">
                                            <Setter Property="Border.Background">
                                                <Setter.Value>
                                                    <LinearGradientBrush>
                                                        <GradientStop Color="#FF383838" Offset="1" />
                                                        <GradientStop Color="#FF5D5D5D" Offset="0" />
                                                    </LinearGradientBrush>
                                                </Setter.Value>
                                            </Setter>
                                        </Trigger>

                                    </Style.Triggers>
                                </Style>
                            </StackPanel.Resources>
                            <Border CornerRadius="4" Background="#424242">
                                <StackPanel Margin="5" Orientation="Horizontal">
                                    <Border x:Name="AddN" CornerRadius="2">
                                        <Border.Style>
                                            <Style>
                                                <Setter Property="Border.Background" Value="#FF13AA2E" />
                                                <Style.Triggers>
                                                    <Trigger Property="Border.IsMouseOver" Value="True">
                                                        <Setter Property="Border.Background">
                                                            <Setter.Value>
                                                                <LinearGradientBrush>
                                                                    <GradientStop Color="#FF01421E" Offset="1" />
                                                                    <GradientStop Color="#FF13AA2E" Offset="0" />
                                                                </LinearGradientBrush>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                        <StackPanel Margin="5" Orientation="Horizontal">

                                            <TextBlock Margin="0,-3,0,0" Text="🗋 " Foreground="White"
                                                       FontFamily="Verdana" FontSize="18" />
                                            <TextBlock Text="Add new" Foreground="WhiteSmoke"
                                                       FontFamily="Yu Gothic UI Semibold" FontSize="13" />

                                        </StackPanel>
                                        <Border.ToolTip>
                                            <Border Background="#323232">
                                                <TextBlock Text="Create a new element" Foreground="White" />
                                            </Border>
                                        </Border.ToolTip>
                                    </Border>
                                    <Border x:Name="Import" Style="{DynamicResource CommonBorder}" CornerRadius="2">
                                        <StackPanel Margin="5" Orientation="Horizontal">
                                            <TextBlock Text="⇓ Import" Foreground="WhiteSmoke"
                                                       FontFamily="Yu Gothic UI Semibold" FontSize="13" />

                                        </StackPanel>
                                        <Border.ToolTip>
                                            <Border Background="#323232">
                                                <TextBlock Text="Import an element" Foreground="White" />
                                            </Border>
                                        </Border.ToolTip>
                                    </Border>
                                    <Border x:Name="Save" Style="{DynamicResource CommonBorder}" CornerRadius="2">
                                        <StackPanel Margin="5" Orientation="Horizontal">
                                            <TextBlock Text="💾 Save All " Foreground="WhiteSmoke"
                                                       FontFamily="Yu Gothic UI Semibold" FontSize="13" />

                                        </StackPanel>
                                        <Border.ToolTip>
                                            <Border Background="#323232">
                                                <TextBlock Text="Save all changes." Foreground="White" />
                                            </Border>
                                        </Border.ToolTip>
                                    </Border>
                                </StackPanel>
                            </Border>
                            <Border CornerRadius="4" Background="#424242">
                                <StackPanel Margin="5" Orientation="Horizontal">
                                    <Border x:Name="Prev" Style="{DynamicResource CommonBorder}" CornerRadius="2">
                                        <StackPanel Margin="5" Orientation="Horizontal">
                                            <TextBlock Text="⤶" Foreground="WhiteSmoke"
                                                       FontFamily="Yu Gothic UI Semibold" FontSize="13" />

                                        </StackPanel>
                                        <Border.ToolTip>
                                            <Border Background="#323232">
                                                <TextBlock Text="Previous folder." Foreground="White" />
                                            </Border>
                                        </Border.ToolTip>
                                    </Border>
                                    <Border x:Name="Next" Style="{DynamicResource CommonBorder}" CornerRadius="2">
                                        <StackPanel Margin="5" Orientation="Horizontal">
                                            <TextBlock Text="⤷" Foreground="WhiteSmoke"
                                                       FontFamily="Yu Gothic UI Semibold" FontSize="13" />

                                        </StackPanel>
                                        <Border.ToolTip>
                                            <Border Background="#323232">
                                                <TextBlock Text="Second folder." Foreground="White" />
                                            </Border>
                                        </Border.ToolTip>
                                    </Border>
                                </StackPanel>
                            </Border>

                        </StackPanel>
                        <Grid Margin="0,10,0,0" Grid.Row="1" Width="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition MaxWidth="200" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <Border CornerRadius="8" Background="#FF424242">
                                <TreeView x:Name="FoldersTree" Margin="5"
                                          Width="Auto"
                                          ScrollViewer.HorizontalScrollBarVisibility="Auto"
                                          HorizontalAlignment="Left"
                                          Background="#353535"
                                          VerticalAlignment="Top"
                                          BorderBrush="Transparent"
                                          VirtualizingStackPanel.IsVirtualizing="True">

                                    <TreeView.Resources>

                                        <LinearGradientBrush x:Key="{x:Static SystemColors.HighlightBrushKey}"
                                                             EndPoint="0,1" StartPoint="0,0">
                                            <GradientStop Color="#FF4B4A4A" Offset="0" />
                                            <GradientStop Color="#FF3E3D3D" Offset="1" />
                                        </LinearGradientBrush>

                                        <LinearGradientBrush x:Key="{x:Static SystemColors.ControlBrushKey}"
                                                             EndPoint="0,1" StartPoint="0,0">
                                            <GradientStop Color="#FF4A4A4B" Offset="0" />
                                            <GradientStop Color="#FF3E3D3D" Offset="1" />
                                        </LinearGradientBrush>
                                        <LinearGradientBrush
                                            x:Key="{x:Static SystemColors.InactiveSelectionHighlightBrushKey}"
                                            EndPoint="0,1" StartPoint="0,0">
                                            <GradientStop Color="#FF4A4A4B" Offset="0" />
                                            <GradientStop Color="#FF3E3D3D" Offset="1" />
                                        </LinearGradientBrush>
                                        <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}"
                                                         Color="Black" />
                                        <SolidColorBrush x:Key="{x:Static SystemColors.ControlTextBrushKey}"
                                                         Color="Black" />

                                    </TreeView.Resources>
                                    <TreeView.ItemContainerStyle>
                                        <Style TargetType="{x:Type TreeViewItem}">
                                            <Setter Property="BorderThickness" Value="1.5" />
                                            <Setter Property="Foreground" Value="AliceBlue" />

                                            <Style.Triggers>
                                                <Trigger Property="IsSelected" Value="True">
                                                    <Setter Property="BorderBrush">
                                                        <Setter.Value>
                                                            <RadialGradientBrush>
                                                                <GradientStop Color="#FF4B4A4A" Offset="0" />
                                                                <GradientStop Color="#FF515151" Offset="1" />
                                                            </RadialGradientBrush>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Trigger>

                                            </Style.Triggers>
                                            <Style.Resources>
                                                <Style TargetType="Border">
                                                    <Setter Property="CornerRadius" Value="2" />
                                                </Style>
                                            </Style.Resources>
                                        </Style>

                                    </TreeView.ItemContainerStyle>
                                </TreeView>
                            </Border>
                            <Border Grid.Column="1" Margin="5,0,0,0" Background="#FF424242">
                                <Grid>
                                    <Grid>
                                        <Grid>
                                            <Grid VerticalAlignment="Top">
                                                <TextBox VerticalAlignment="Top" x:Name="SearchTextBox"
                                                         Focusable="True" Background="DarkGray"
                                                         BorderThickness="1" BorderBrush="AliceBlue" Height="20" />
                                                <Canvas VerticalAlignment="Top" HorizontalAlignment="Right" Height="20"
                                                        Width="20">
                                                    <Canvas.Background>
                                                        <ImageBrush
                                                            ImageSource="../MediaResources/Search.png" Stretch="None" />
                                                    </Canvas.Background>
                                                </Canvas>
                                            </Grid>
                                            <ListView VerticalAlignment="Top" Margin="0,25,0,0"
                                                      Name="Contents"
                                                      MinHeight="100"
                                                      ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                                      ScrollViewer.VerticalScrollBarVisibility="Visible"
                                                      ScrollViewer.CanContentScroll="True"
                                                      Height="{TemplateBinding Height}"
                                                      SelectionMode="Extended"
                                                      HorizontalContentAlignment="Left" BorderBrush="Transparent"
                                                      Width="Auto" Background="#353535"
                                                      FocusVisualStyle="{x:Null}"
                                                      ItemContainerStyle="{DynamicResource ContentBrowserElement}">
                                                <ListView.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <WrapPanel />
                                                    </ItemsPanelTemplate>
                                                </ListView.ItemsPanel>
                                            </ListView>
                                        </Grid>
                                        <ProgressBar x:Name="pBar" Height="20" IsIndeterminate="True"
                                                     Background="#353535">
                                            <ProgressBar.Foreground>
                                                <LinearGradientBrush>
                                                    <GradientStop Color="#00208D4D" Offset="0" />
                                                    <GradientStop Color="#E50068FF" Offset=".6" />
                                                </LinearGradientBrush>
                                            </ProgressBar.Foreground>
                                            <ProgressBar.BorderBrush>
                                                <LinearGradientBrush>
                                                    <GradientStop Color="#00208D4D" Offset="0" />
                                                    <GradientStop Color="#E5002576" Offset="1" />
                                                </LinearGradientBrush>
                                            </ProgressBar.BorderBrush>
                                        </ProgressBar>

                                    </Grid>

                                </Grid>
                            </Border>
                        </Grid>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="CollapsedRegionPreview" TargetType="Control">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Grid Width="128" Height="100">
                        <Image Stretch="Fill"
                               Source="{Binding RelativeSource={RelativeSource TemplatedParent},Path=Preview}" />
                        <Grid.Background>
                            <RadialGradientBrush>
                                <GradientStop Color="#4C0E1327" Offset="1" />
                                <GradientStop Color="#4C19006E" />
                            </RadialGradientBrush>
                        </Grid.Background>
                    </Grid>
                </ControlTemplate>

            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="AddPin" TargetType="{x:Type Button}">
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Button}">
                    <StackPanel Orientation="Horizontal" Name="sp">

                        <TextBlock Text="+" Background="Transparent" Foreground="AliceBlue" FontFamily="Bauhaus 93" />
                        <TextBlock Text="Add pin" Foreground="AliceBlue" Background="Transparent" />

                    </StackPanel>
                    <ControlTemplate.Triggers>

                        <Trigger Property="StackPanel.IsMouseOver" Value="True">
                            <Setter TargetName="sp" Property="StackPanel.Background">
                                <Setter.Value>
                                    <LinearGradientBrush>
                                        <GradientStop Color="#19000000" Offset="1" />
                                        <GradientStop Color="#990B2E42" Offset="0.155" />

                                    </LinearGradientBrush>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="sp" Property="StackPanel.Background">
                                <Setter.Value>
                                    <LinearGradientBrush>
                                        <GradientStop Color="#19000000" Offset="1" />
                                        <GradientStop Color="#B200A3FF" Offset="0.155" />
                                    </LinearGradientBrush>
                                </Setter.Value>
                            </Setter>
                        </Trigger>

                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="Search" TargetType="controls:Search">
        <Setter Property="ShowInTaskbar" Value="False" />
        <!--<Setter Property="WindowStyle" Value="None" />-->
        <Setter Property="ResizeMode" Value="CanResizeWithGrip" />
        <Setter Property="Width" Value="250" />
        <Setter Property="Height" Value="100" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Grid Background="#323232">
                        <Grid.RowDefinitions>
                            <RowDefinition MaxHeight="25" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <DockPanel Grid.Row="0">
                            <TextBlock x:Name="FindButton"
                                       Foreground="White"
                                       Background="Transparent"
                                       Text="➜" DockPanel.Dock="Right"
                                       FontSize="16" FontFamily="Segoe WP Semibold"
                                       VerticalAlignment="Center" />

                            <TextBlock x:Name="Clear"
                                       Foreground="#FF0091BB"
                                       Background="Transparent"
                                       Text="x"
                                       FontSize="16"
                                       Margin="-10,0,00,0"
                                       DockPanel.Dock="Right"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Right" />
                            <TextBox x:Name="NodeName"
                                     Width="203"
                                     Height="25"
                                     Background="#424242"
                                     Foreground="WhiteSmoke"
                                     FontSize="14"
                                     DockPanel.Dock="Left"
                                     HorizontalAlignment="Stretch" />

                        </DockPanel>
                        <ListView
                            x:Name="FoundNodes" Grid.Row="1"
                            Background="#353535"
                            Foreground="White" />
                    </Grid>
                    <ControlTemplate.Triggers>

                        <Trigger Property="TextBlock.IsMouseOver" SourceName="Clear" Value="True">
                            <Setter TargetName="Clear" Property="TextBlock.Background" Value="#424242" />
                        </Trigger>
                        <Trigger Property="TextBlock.IsMouseOver" SourceName="FindButton" Value="True">
                            <Setter TargetName="FindButton" Property="TextBlock.Background" Value="#424242" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="GateProperties" TargetType="Control">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <StackPanel Orientation="Vertical">

                        <TreeViewItem>
                            <TreeViewItem.Header>
                                <StackPanel Orientation="Horizontal">
                                    <Ellipse x:Name="EllipseType" Height="15" Width="15" Fill="Gray">
                                        <Ellipse.Effect>
                                            <BlurEffect Radius="3" />
                                        </Ellipse.Effect>
                                    </Ellipse>
                                    <Grid>
                                        <TextBlock x:Name="GateName" Margin="5,0,0,0"
                                                   Text="X" Foreground="WhiteSmoke" />
                                        <TextBox x:Name="RenmeTB" Margin="5,0,0,0" Visibility="Collapsed"
                                                 Background="Transparent" Foreground="WhiteSmoke" />
                                    </Grid>
                                </StackPanel>
                            </TreeViewItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Margin="5,0,0,0"
                                           Text="Types:" Foreground="WhiteSmoke" />
                                <controls:RTypesGallery />
                            </StackPanel>
                        </TreeViewItem>
                    </StackPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <!--<Style x:Key="FunctionItem" TargetType="controls:FunctionItem">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                  
                        <TreeViewItem 
                            x:Name="FuncContainer"
                            Width="Auto">
                        <TreeViewItem.Header>
                            <Grid Margin="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <Path Style="{DynamicResource FunctionSymbol}" Height="16" Width="16" Fill="WhiteSmoke" Grid.Column="0"/>
                                <Grid Margin="5,0,0,0" Grid.Column="1">
                                    <TextBlock VerticalAlignment="Center" x:Name="FunctionName" Foreground="WhiteSmoke"
                                        />
                                    <TextBox BorderThickness="1.5" VerticalAlignment="Center" x:Name="RenameTB" Visibility="Collapsed" Background="Transparent"
                                                 Foreground="WhiteSmoke"
                                                 BorderBrush="LightBlue">

                                    </TextBox>
                                </Grid>
                            </Grid>

                        </TreeViewItem.Header>
                        <TreeViewItem.ToolTip>
                                <Border Background="#424242" BorderBrush="Gray"
                                        CornerRadius="3,3,3,3"
                                        BorderThickness="2">
                                    <StackPanel MaxWidth="300" Margin="3">
                                        <TextBlock Foreground="Gold" FontSize="12"
                                                   Text="Alaa"
                                                   FontFamily="Segoe UI Semibold" />
                                        <TextBlock Text="{Binding Icon}" Foreground="White" />
                                        <TextBlock Text="{Binding GetsTip}" Foreground="Wheat" />
                                        <TextBlock Text="{Binding SetsTip}" Foreground="Wheat" />
                                    </StackPanel>
                                </Border>
                            </TreeViewItem.ToolTip>
                        <StackPanel Orientation="Vertical" x:Name="FuncProperties">
                            <TreeViewItem x:Name="InputGate" IsExpanded="false">
                                <TreeViewItem.Header>
                                    <StackPanel Height="20" Orientation="Horizontal">
                                        <TextBlock Foreground="Wheat" Text="Input gates"/>
                                        <Button x:Name="InputGateAdd" Margin="5,0,0,0" Content="New" Background="#424242" Foreground="White"/>
                                    </StackPanel>
                                </TreeViewItem.Header>
                                <ListView x:Name="InputGatesLv" Background="#323232">
                                    
                                </ListView>
                            </TreeViewItem>
                            <TreeViewItem IsExpanded="false">
                                <TreeViewItem.Header>
                                    <StackPanel Height="20" Orientation="Horizontal">
                                        <TextBlock Foreground="Wheat" Text="Output gates"/>
                                        <Button x:Name="OutputGateAdd" Margin="5,0,0,0" Content="New" Background="#424242" Foreground="White"/>
                                    </StackPanel>
                                </TreeViewItem.Header>
                                <ListView x:Name="OutputGatesLv" Background="#323232">
                                   
                                </ListView>
                            </TreeViewItem>
                        </StackPanel>
                    </TreeViewItem>

                
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="FunctionsList" TargetType="controls:FunctionsList">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <StackPanel Orientation="Vertical" Background="{DynamicResource GlobalBackground}">
                        <Expander x:Name="Functions">
                            <Expander.Header>
                                <StackPanel Orientation="Horizontal">
                                    <Image Source="../MediaResources/VariablesListIcons/Object.png" />
                                    <TextBlock Margin="3,0,0,0" Text="Functions" Foreground="AliceBlue" />
                                    <Button Name="FunAdd" Margin="5,0,0,0" Height="16" Width="16" BorderThickness="0"
                                            ToolTip="Add variable.">

                                        <Button.Template>
                                            <ControlTemplate>
                                                <Border Name="borderplus" Height="16" Width="16">
                                                    <Border.Background>
                                                        <ImageBrush
                                                            ImageSource="../MediaResources/VariablesListIcons/Plus.png" />
                                                    </Border.Background>

                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="borderplus" Property="Background">
                                                            <Setter.Value>
                                                                <ImageBrush
                                                                    ImageSource="../MediaResources/VariablesListIcons/PlusHover.png" />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>
                                    <Button Name="FunRemove" Margin="5,0,0,0" Height="16" Width="16"
                                            BorderThickness="0" ToolTip="Remove variable.">

                                        <Button.Template>
                                            <ControlTemplate>
                                                <Border Name="borderplus" Height="16" Width="16">
                                                    <Border.Background>
                                                        <ImageBrush
                                                            ImageSource="../MediaResources/VariablesListIcons/Types/DataFrame.png" />
                                                    </Border.Background>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="borderplus" Property="Background">
                                                            <Setter.Value>
                                                                <ImageBrush
                                                                    ImageSource="../MediaResources/VariablesListIcons/Types/Logical.png" />
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>


                                </StackPanel>
                                
                            </Expander.Header>
                            <Grid>
                                <ListView Background="#323232"
                                          x:Name="Lv"/>
                            </Grid>
                        </Expander>
                    </StackPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>-->

</ResourceDictionary>